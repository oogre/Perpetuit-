



// 91 x 2 bytes ==> 182 bytes
unsigned int isinTable16[] = {
  32768, 33340, 33911, 34483, 35053, 35624, 36193, 36761, 37328, 37894, 
  38458, 39020, 39580, 40139, 40695, 41249, 41800, 42348, 42893, 43436, 
  43975, 44511, 45043, 45571, 46095, 46616, 47132, 47644, 48151, 48654, 
  49152, 49644, 50132, 50614, 51091, 51562, 52028, 52488, 52941, 53389, 
  53830, 54265, 54693, 55115, 55530, 55937, 56339, 56732, 57119, 57497, 
  57869, 58233, 58589, 58937, 59277, 59609, 59933, 60249, 60556, 60855, 
  61145, 61427, 61700, 61964, 62219, 62465, 62702, 62930, 63149, 63359, 
  63559, 63750, 63931, 64103, 64266, 64419, 64562, 64695, 64819, 64933, 
  65037, 65132, 65216, 65291, 65356, 65411, 65455, 65490, 65515, 65530, 
  65535
};

float isin(uint32_t x)
{
  while (x < 0) x += 360;
  while (x >= 360) x -= 360;
  if(x < 90){
    x = 90 - x;
    return 1 - isinTable16[x] * 0.0000152590219 ;
  }
  else if(x < 180){
    x = x - 90;
    return isinTable16[x] * 0.0000152590219;
  }
  else if(x < 270){
    x = 270 - x;
    return isinTable16[x] * 0.0000152590219;
  }
  else {
    x = x - 270;
    return 1 - isinTable16[x] * 0.0000152590219 ;
  }
}


void convertIsinTable16() {
  for (int i = 0 ; i < 91 ; i ++) {
    unsigned int t = round(((isinTable16[i] * 0.0000152590219) + 1) * 0.5f * 65535);
    //Serial.print(t);
    //Serial.print(", ");
    //if (i % 10 == 9 )
      //Serial.println("");
  }
  //Serial.println("");
}
